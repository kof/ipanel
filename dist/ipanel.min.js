!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.iPanel=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){var styles=["webkitTransform","MozTransform","msTransform","OTransform","transform"];var el=document.createElement("p");var style;for(var i=0;i<styles.length;i++){style=styles[i];if(null!=el.style[style]){module.exports=style;break}}},{}],2:[function(_dereq_,module,exports){/**
 * Mobile slide panels.
 *
 * @copyright Oleg Slobodskoi 2014
 * @website https://github.com/kof/ipanel
 * @license MIT
 */
"use strict";var transform=_dereq_("transform-property"),vendor=transform.substr(0,transform.length-9),$=jQuery;function iPanel($container,options){this.options=$.extend({},iPanel.defaults,options);this.elements={container:$container};this._left=0;this._maxLeft=0;this._moveStartTime=0;this._dragging=false;this._animating=false}iPanel.defaults={duration:500,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easingAfterDrag:"ease-out",easingAfterSwipe:"cubic-bezier(0, 1.000, 0.220, 1.000)",swipeDurationThreshold:1e3,swipeDistanceThreshold:5,handle:".ipanel-handle",master:null,hidden:false,hideDirection:"right",slave:null,slaveAnimation:true,slaveDisposition:100,dynamic:false,drag:true};iPanel.touch="ontouchend"in document;module.exports=iPanel;iPanel.prototype.init=function(){var o=this.options;this.elements.container.addClass("ipanel"+(o.hidden?" ipanel-master-hidden":""));if(o.drag){this.elements.container.on(iPanel.touch?"touchend":"mouseup",o.handle,$.proxy(this._onTouchEnd,this)).on("move",o.handle,$.proxy(this._onMove,this)).on("moveend",o.handle,$.proxy(this._onMoveEnd,this))}else{this.elements.container.on("tap",o.handle,$.proxy(this._onTap,this))}if(!o.dynamic){this._setElements(this.elements.container);this.refresh()}};iPanel.prototype.show=function(duration,callback){var self=this;if(typeof duration=="function"){callback=duration;duration=null}if(this._animating){setTimeout(callback);return this}this._emit("beforeshow");requestAnimationFrame(function(){self._toggle(false,duration,null,callback)});return this};iPanel.prototype.hide=function(duration,callback){var self=this;if(typeof duration=="function"){callback=duration;duration=null}if(this._animating){setTimeout(callback);return this}this._emit("beforehide");requestAnimationFrame(function(){self._toggle(true,duration,null,callback)});return this};iPanel.prototype.option=function(name,value){var setter;if(value==null){return this.options[name]}this.options[name]=value;setter="_set"+name.charAt(0).toUpperCase()+name.substr(1);if(this[setter])this[setter](value);return this};iPanel.prototype.refresh=function(){var maxLeft=this._getMaxLeft(true);this._setTranslateX(this.elements.master[0],this.options.hidden?maxLeft:0);return this};iPanel.prototype.animating=function(){return this._animating};iPanel.prototype._toggle=function(hide,duration,easing,callback){var self=this,left=hide?this._getMaxLeft():0;this._animate(left,duration,easing,function(){if(!self.options.dynamic)self.elements.container.toggleClass("ipanel-master-hidden",hide);if(callback)callback();self._emit(hide?"hide":"show")});return this};iPanel.prototype._animate=function(left,duration,easing,callback){var self=this,o=this.options;this._animating=true;this._translate(this.elements.master[0],left,duration,easing,function(){self._animating=false;if(callback)callback()});if(o.slaveAnimation&&this.elements.slave.length&&!this._dragging){this._slaveX=left>0?0:-o.slaveDisposition;this._translate(this.elements.slave[0],this._slaveX,duration,easing)}return this};iPanel.prototype._translate=function(el,left,duration,easing,callback){var o=this.options;duration!=null||(duration=o.duration);if(duration){this._transit(el,duration,easing,callback)}else{setTimeout(callback)}this._setTranslateX(el,left);return this};iPanel.prototype._transit=function(el,duration,easing,callback){var self=this;easing!=null||(easing=this.options.easing);el.addEventListener(vendor+"TransitionEnd",function onTransitionEnd(){self._setTransition(el,null);el.removeEventListener(vendor+"TransitionEnd",onTransitionEnd);if(callback)callback();callback=null},false);setTimeout(function(){if(callback)callback();callback=null},duration+20);this._setTransition(el,duration+"ms "+easing);return this};iPanel.prototype._setTranslateX=function(el,x){this._left=x||0;el.style[transform]=x==null?"":"translateX("+x+"px)";return this};iPanel.prototype._setTransition=function(el,value){el.style[vendor+"Transition"]=value||"";return this};iPanel.prototype._setElements=function($item){var o=this.options;if(this.elements.item&&$item[0]===this.elements.item[0])return this;if(this.elements.master){this._setTranslateX(this.elements.master[0],null);this._setTransition(this.elements.master[0],null);this.elements.master.removeClass("ipanel-master")}this.elements.item=$item;this.elements.master=$item;if(o.master){this.elements.master=typeof o.master=="string"?$item.find(o.master):$(o.master)}this.elements.master.addClass("ipanel-master");if(this.elements.slave)this.elements.slave.removeClass("ipanel-slave");this.elements.slave=typeof o.slave=="string"?$item.find(o.slave):$(o.slave);this.elements.slave.addClass("ipanel-slave");return this};iPanel.prototype._getMaxLeft=function(force){if(this._maxLeft&&!force)return this._maxLeft;this._maxLeft=this.elements.slave.outerWidth();if(this.options.hideDirection=="left")this._maxLeft*=-1;return this._maxLeft};iPanel.prototype._emit=function(name){this.elements.master.trigger(name+".ipanel");return this};iPanel.prototype._isHidden=function(){if(this.options.hideDirection=="right"){return this._left>0}return this._left<0};iPanel.prototype._onTouchEnd=function(e){var self=this,$master;if(this._dragging||this._animating||this._vertMovement||this._horMovement)return;if(this.options.dynamic){$master=$(e.target).closest(this.options.master);if(!$master.length)return;this._setElements($master.parent())}e.preventDefault();requestAnimationFrame(function(){self[self._isHidden()?"show":"hide"]()})};iPanel.prototype._onMove=function(e){var self=this,dist;this._horDistance=Math.abs(e.distX);this._horMovement||(this._horMovement=this._horDistance>3);this._vertMovement||(this._vertMovement=Math.abs(e.distY)>3);if(!e.deltaX||!this._horMovement)return;if(!this._dragging){if(this._vertMovement)return;this._dragging=true;this._moveStartTime=Date.now();if(this.options.dynamic){this._setElements($(e.target).closest(this.options.master).parent())}this._emit("before"+(this._isHidden()?"show":"hide"))}if(this._getMaxLeft()>0){if(e.deltaX>0&&this._left>=this._getMaxLeft())return;if(e.deltaX<0&&this._left<=0)return}else{if(e.deltaX>0&&this._left>=0)return;if(e.deltaX<0&&this._left<=this._getMaxLeft())return}this._setTranslateX(this.elements.master[0],this._left+e.deltaX)};iPanel.prototype._onMoveEnd=function(e){var self=this,o=this.options,isSwipe;isSwipe=this._horDistance>o.swipeDistanceThreshold&&Date.now()-this._moveStartTime<o.swipeDurationThreshold;this._dragging=false;this._horMovement=false;this._vertMovement=false;this._horDistance=0;if(isSwipe){if(this.options.hideDirection=="right"){e.distX>0?this._toggle(true,null,o.easingAfterSwipe):this._toggle()}else{e.distX<0?this._toggle(true,null,o.easingAfterSwipe):this._toggle()}}else{if(this.options.hideDirection=="right"){this._left>=this._getMaxLeft()/2?this._toggle(true,null,o.easingAfterDrag):this._toggle(false,null,o.easingAfterDrag)}else{this._left<this._getMaxLeft()/2?this._toggle(true,null,o.easingAfterDrag):this._toggle(false,null,o.easingAfterDrag)}}};iPanel.prototype._onTap=function(e){var self=this,o=this.options,$master;if(o.dynamic){$master=$(e.target).closest(o.master);if(!$master.length)return;this._setElements($master.parent())}this._emit("before"+(this._isHidden()?"show":"hide"));requestAnimationFrame(function(){self._toggle(self._isHidden()?false:true,null,o.easingAfterSwipe)})}},{"transform-property":1}]},{},[2])(2)});